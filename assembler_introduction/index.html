<!doctype html>
<html>
<head>
<title>2003lk入門</title>
<meta charset="UTF-8">
<link rel="stylesheet" href="../common.css">
<style>
.ny_jurli{
	background-color: #ffeeee;
	font-size:90%;
	padding: 0 10px;
}
</style>
<script>
function hide_ny_jurli()
{
	var elems = document.getElementsByClassName("ny_jurli");
	for(var i=0;i<elems.length;i++){
		elems[i].style.display = "none";
	}
}
</script>
</head>
<body class="cool">
<h1>2003lk入門</h1>
<p>ようこそ！ここでは2003lkの解説をしていきます。2003lkを学ぶと、連邦情報処理研究所が開発している計算機、2003'd ferlesyl (2003f) に様々な計算を正確に・高速にさせることができるようになります。[プログラミング](lerlo)の前提知識は要求しないような書き方になっているはずなので、よろしくお願いします。</p>
<div class="ny_jurli">
	<p>ここの部分のように、背景色が赤くなっている部分は、真理設定でないことを意味します。基本的にこの文書（理語バージョン）はファイクレオネでもそのまま通るような、真理設定にできるだけ近くなるような書き方をしていきますが、一部（実行環境のインストール方法など）どうしても非真理設定になるものがあるので、このような対応を取ります。→<input type="button" value="非真理設定を隠す" onclick="hide_ny_jurli()">をクリックすると非真理設定が非表示になります。ページを再読み込みすると戻ります。</p>
<hr>
<h2>現世にまつわる諸情報</h2>
<h3>2003lkを現世で使う方法</h3>
<ul>
	<li><a href="https://github.com/jurliyuuri/OS/tree/master/assembler">Haskell版インタプリタ</a>：j.vが作っている最新版。インストール方法の説明を書けていないので、分からなかったら<a href="https://twitter.com/sosoBOTpi">作者</a>に質問するか自力でなんとかするか、↓のWeb版を使うかしてください</li>
	<li><a href="http://www53.atpages.jp/titlil/temk/2003f-asm-editor/">Web版インタプリタ</a>：Web上で実行できる。ファイル分割や乗算など一部の機能は未実装。</li>
</ul>
<h3>リンク集</h3>
<ul>
	<li>雑記・考察ログ：<a href="../opcode.html">「オペコードなどについて考察する」</a></li>
	<li>アセンブリ言語だけの最新の仕様：<a href="../settings.html">設定一覧</a></li>
	<li>専門用語の一覧：<a href="https://sites.google.com/site/panqateel/yougo">用語集</a></li>
	<li>Twitterで出た質問：Togetter（<a href="https://togetter.com/li/1151279">part1</a>, <a href="https://togetter.com/li/1153844">part2</a>, <a href="https://togetter.com/li/1156125">part3</a>）</li>
	<li>ソースコードの例：<a href="../fib_non_recursive.jurli.html">非再帰フィボナッチ</a>と<a href="../fib_recursive.jurli.html">再帰フィボナッチ</a>と<a href="../qsort.jurli.html">quicksort</a>と<a href="../lakormeru.jurli.html">開平</a></li>
</ul>
</div>
<hr>
<h2>ksi.1 2003'd ferlesylを知る</h2>
<p>2003lkは、[2003fの言語](2003f'd lkurftless)という名の通り、2003fを動かすために作られた言語です。ということで、まずは2003fを知ることから始めましょう。</p>
<h3>lexn.1 数の表現</h3>
<p>2003fは計算を行う装置なのですから、当然数を扱うことができます。2003fがどのようにして数を扱うかについて説明していきます。</p>
<p class="ny_jurli">現世の用語に詳しい人のための1行解説：32bit整数、負数は2の補数表現</p>
<p>[スイッチ](lysol)が32個横一列に並んでいる様子を想像してください。それぞれのボタンにあるのは押されているか押されていないかの2択ですが、これが32個集まると[2の32乗](2-inie-32)、つまり4294967296通りの状態を表すことができます。</p>
<p>さて、879というように数を書いたとき、7の位置には9の位置の10倍の価値があり、8の位置には7の10倍の価値があります。故に、879は（8と7と9を足し合わせたものでなく）[八百](xanlekqa)と[七十](anxenqa)と[九](fentiqa)を合わせたものになるのです。</p>
<p>これを先ほどのスイッチ列に応用することができます。右端のスイッチの価値を1、その左を2、そのさらに左を4、というふうに決めていくと、32個のスイッチで0から4294967295までの数を扱うことができます。</p>
<p>では、負の数を扱う時にはどうすればいいでしょうか。実は、左端のスイッチの価値を2147483648ではなく-2147483648と解釈してあげると、-2147483648から2147483647までの数を扱うことができるようになるのです。</p>
<p>これは、4294967296を周期として整数を同一視することと同じです。例えば、-12と（それに4294967296を足した）4294967284
を同一視し、17と（それに4294967296を足した）4294967313を同一視することで、どちらで解釈したとしても、足し算・引き算は同じ挙動で動作できることが分かります。</p>
<pre style="font-size:120%">
  11111111111111111111111111110100 → -12
<u>+ 00000000000000000000000000011101 →  29</u>
 <span style="color:#999">1</span>00000000000000000000000000010001 →  17 

  11111111111111111111111111110100 → 4294967284
<u>+ 00000000000000000000000000011101 →         29</u>
 <span style="color:#999">1</span>00000000000000000000000000010001 → 4294967313
</pre>
<p>ここで、一番左に書いてある灰色の1は便宜上のもので、実際にはありません。</p>
<h3>lexn.2 記憶装置</h3>
<p>計算をするには数を記憶しなければいけません。2003fには、目的に応じて2種類の記憶装置があります。</p>
<ul>
	<li>[メモ](firjal)：個数が僅かしかないが、素早く読み書きできる<span class="ny_jurli">レジスタのこと。</span></li>
	<li>[住所箱](setistafar)：多量のデータを保存できるが、読み書きが遅い<span class="ny_jurli">メモリのこと。</span></li>
</ul>
<p>firjalはいくつかありますが、その中でも今回使っていくのは6種類。それぞれに<code>f0</code>, <code>f1</code>, <code>f2</code>, <code>f3</code>, <code>f5</code>, <code>xx</code>という名前が付いています。それぞれのfirjalに、先ほど述べた32個のスイッチ列が入っています。</p>
<p>なお、fはfirjalの略です。<code>xx</code>はxeumon xelal（「次に見るところ」）の略称ですが、詳しいことは後述します。</p>
<p>setistafarは、[住所](sietival)と[箱](stafiort)という語からなっていることからも分かるように、住所のようなものを指定することで、その場所に数を記録することができます。ただし、住所といっても普通の住所とは違ってこれまた数で表すので、[住所](<strong>sie</strong>tival)ではなく[アドレス](<strong>se</strong>tival)と呼びます。</p>
<p>setivalは0から4294967292までの数で、必ず4で割り切れます。それぞれのsetivalのところにはこれまた32個のスイッチ列があって、そこに数を記録できます。</p>
<h3>lexn.3 命令</h3>
<p>2003fは[命令](xlaiso)を与えられることによって動作します。その命令を記述するための言語が2003lkです。</p>
<h3>lexn.4 基本動作</h3>
<p>2003fの基本動作は単純で、以下の3つの動作をひたすら繰り返します。</p>
<!--<ol>
	<li></li>
	<li></li>
	<li></li>
</ol>	
「次の命令を指すところにxxを移動させる→針の指す命令を実行する→xxの指す位置に針を動かす」-->

<hr>
<footer style="text-align:right"><p>phil.2005年2月</p><p class="ny_jurli">…に執筆されたという設定。現世でこの文章を書いているのは西暦2017年の10月。</p><p class="ny_jurli">どうしようかな、ubpl開発以降の文章という設定にしてもいいんだけど。そっちの方が面白いかもな。</p></footer>


</body>
